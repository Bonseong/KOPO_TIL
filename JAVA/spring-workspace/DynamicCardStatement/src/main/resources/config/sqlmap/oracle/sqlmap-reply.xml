<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="reply.ReplyDAO">
	<resultMap type="replyVO" id = "replyMap">
		<result column="board_no" property="boardNo"/>
		<result column="reg_date" property="regDate"/>
	</resultMap>
	
	<select id="selectReply" parameterType = "int" resultMap="replyMap">
		SELECT NO, BOARD_NO, CONTENT, WRITER, TO_CHAR(REG_DATE, 'YYYY-MM-DD') AS REG_DATE FROM T_REPLY WHERE BOARD_NO = #{boardNo} ORDER BY NO DESC
	</select>
	
	<insert id="writeReply" parameterType="replyVO">
		INSERT INTO T_REPLY(BOARD_NO, CONTENT, WRITER) VALUES(#{boardNo}, #{content}, #{writer})
		<!-- prepared stmt 형태 -->
	</insert>
	
</mapper>