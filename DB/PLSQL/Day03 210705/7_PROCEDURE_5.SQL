CREATE OR REPLACE PROCEDURE
    WRITE_LOG(A_PROGRAM_NAME IN VARCHAR2, A_ERROR_MESSAGE IN VARCHAR2, A_DESCRIPTION IN VARCHAR2)
AS
BEGIN
    INSERT INTO EXCEPTION_LOG(PROGRAM_NAME, ERROR_MESSAGE, DESCRIPTION) VALUES(A_PROGRAM_NAME, A_ERROR_MESSAGE, A_DESCRIPTION);
    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        NULL;
END;
/

CREATE OR REPLACE PROCEDURE CHANGE_SALARY(A_EMPNO IN NUMBER, A_SALARY NUMBER DEFAULT 2000)
AS
    V_ERROR_MESSAGE EXCEPTION_LOG.ERROR_MESSAGE%TYPE;
BEGIN
    UPDATE EMP SET SAL = A_SALARY WHERE EMPNO = A_EMPNO;
    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        WRITE_lOG('CHANGE_SALARY', SQLERRM, 'VALUES : [1]=>'||A_EMPNO||' [2]=>'||A_SALARY);
END CHANGE_SALARY;
/

EXECUTE CHANGE_SALARY(7369, 987654321);

SELECT EMPNO, SAL FROM EMP WHERE EMPNO = 7369;
SELECT * FROM EXCEPTION_LOG;