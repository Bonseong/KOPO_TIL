BEGIN
    INSERT INTO DEPT VALUES(66, 'OUTER_BLK_PARK', 'MAIN_BLK');
    
    <<NESTED_BLOCK_1>>
    BEGIN
        INSERT INTO DEPT VALUES(76, 'LOCAL_PART_1', 'NESTED_BLK1');
        INSERT INTO DEPT VALUES(777, 'LOCAL_PART_1', 'NESTED_BLK1'); -- 런타임에러 발생
        -- INSERT INTO DEPT VALUES(77, 'LOCAL_PART_1', 'NESTED_BLK1');
        INSERT INTO DEPT VALUES(78, 'LOCAL_PART_1', 'NESTED_BLK1');
        COMMIT;
    END NESTED_BLOCK_1;
    
    <<NESTED_BLOCK_2>>
    BEGIN
        INSERT INTO DEPT VALUES(88, 'LOCAL_PART_2', 'NESTED_BLK2');
        COMMIT;
    END BESTED_BLOCK2;
    
    INSERT INTO DEPT VALUES(99, 'OUTER_BLK_PART', 'MAIN_BLK');
END;
/
--  Exception이 발생하게 되면 발생한 위치 이하의 작업을 수행하지 않고 Block내의 예외처리 영역으로 처리흐름(Control Flow)이 넘어 가게 됨

SELECT * FROM DEPT WHERE DEPTNO IN (66,76,77,78,88,99);

DELETE FROM DEPT WHERE DEPTNO IN (66,76,77,78,88,99);
        